<!doctype html>
<html>
 <head>
  <meta charset="UTF-8">
   <title>Homework 2</title>
   <script src="https://d3js.org/d3.v3.js"></script>
   <style>
       p,.number{
           border: 2px solid red;
           height: 30px;
           width: 80px;
           text-align: center;
           line-height: 30px;
       }
       svg{
           border: 1px solid blue;
       }
   </style>
 </head>
 <body>
   <h1>Ex 1</h1>
   <p></p>
   <input type="button" onclick="launch()" value="啟動"/>
   <br>
   <hr>
   
   <h1>Ex 2</h1>
   <input type="text" class="number"/>
   <input type="button" onclick="square()" value="平方"/>
   <br>
   <hr>
   
   <h1>Ex 3</h1>
   <svg id="svg1" width="300" height="200">
   </svg>
   <br>
   <hr>
   
   <h1>Ex 4</h1>
   <svg id="svg2" width="400" height="300">             
   </svg>
   
   <script>
       function random(N,M){
           return Math.ceil(Math.random()*(M-N)+N);
       }
       function launch(){           
           var rand=random(1911,2016);
           var body = d3.select("body>p");
           body.text(rand);
       }
       function square(){
           var obj = d3.select(".number");
           var val = obj.property("value");
           obj.property("value",val * val);           
       }
       
       d3.select("#svg1").append("circle")
                    .attr({
                       cx:150,
                       cy:120,
                       r:15
                    });
       d3.select("#svg1").append("rect")
                    .attr({
                       x:160,
                       y:45,
                       width:5,
                       height:78
                    });
       d3.select("#svg1").append("line")
                    .attr({
                       x1:0,
                       y1:45,
                       x2:300,
                       y2:45,
                       stroke:"black"
                    });
       d3.select("#svg1").append("line")
                    .attr({
                       x1:0,
                       y1:75,
                       x2:300,
                       y2:75,
                       stroke:"black"
                    });
       d3.select("#svg1").append("line")
                    .attr({
                       x1:0,
                       y1:105,
                       x2:300,
                       y2:105,
                       stroke:"black"
                    });
       d3.select("#svg1").append("line")
                    .attr({
                       x1:0,
                       y1:135,
                       x2:300,
                       y2:135,
                       stroke:"black"
                    });
       d3.select("#svg1").append("line")
                    .attr({
                       x1:0,
                       y1:165,
                       x2:300,
                       y2:165,
                       stroke:"black"
                    });
       d3.select("#svg1").append("text")
                    .attr({
                       x:140,
                       y:200
                    })
                    .attr("font-size",40)
                    .attr("font-family","arial")
                    .text("A");
       
       for(var i=0;i<20;i++){
           var rand=random(20,300);
           d3.select("#svg2").append("rect")
                    .attr({
                       x:10,
                       y:10+12*i,
                       width:rand+10,
                       height:10,
                       fill:"red"
                    });
           d3.select("#svg2").append("text")
                    .attr({
                       x:10+rand+15,
                       y:10+12*i+10,
                       "font-size":12
                    })
                    .text(rand);
           
       }
   </script>  
  
 </body>
</html>

